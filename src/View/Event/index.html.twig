{% extends 'sublayout_visitor.html.twig' %}

{% block title %}UPA - Vie sportive{% endblock %}
{% block headercontent %}
    {% set headerMainTitle = 'VIE SPORTIVE' %}
    {% set headerSubTitle = 'Evènements sportifs à venir' %}
    {% set smallHeader = true %}
    {{ parent() }}
{% endblock %}


{% block content %}

    <div class="container-fluid">
        <div class="row justify-content-center mb_5">
            {% for event in events %}
                <div class="card rounded-0 col-sm-12 col-lg-3 card-evt m-3 p-2">
                    <div class="text-center m-2">
                        <h5 class="card-title-evt-date">
                            {% if event.date_begin < event.date_end %}
                                Du {{ event.date_begin }} au {{ event.date_end }}
                            {% else %}
                                Le {{ event.date_begin }}
                            {% endif %}
                        </h5>
                        <h5 class="card-title-evt text-center p-2">{{ event.level | capitalize }}</h5>
                    </div>
                    <div class="card-body rounded-0 text-center mx-auto p-0">
                        <img class="card-img-top img-event-small p-3 textrounded-0"
                                {% if event.gendermix|lower == 'homme' %}
                             src="/assets/images/compet/evt_homm2.jpg"
                             alt="compétition homme">
                        {% elseif event.gendermix|lower == 'femme' %}
                            src="/assets/images/compet/evt_femme.jpg" alt="compétition femme">
                        {% else %}
                            src="/assets/images/compet/evt_mixte.jpg" alt="compétition mixte">
                        {% endif %}
                    </div>
                    <div class="card-body card_body_evt">
                        <h5 class="card-title text-center h5_evt">{{ event.title }}</h5>
                        <p class="card-text text-justify card_text_evt">{{ event.descr|striptags|length > 270 ? event.descr|striptags|slice(0, 270) ~ ' [...]' : event.descr|striptags }}</p>
                        <div class="heading-divider-extent"></div>
                        <ul class="list-group list-group-flush text-center">
                            <li class="list-group-item p-0 border-0">{{ event.dept_name }} ( {{ event.dept_num }})</li>
                        </ul>
                        <div class="heading-divider-extent"></div>
                        <ul class="list-group list-group-flush text-center">
                            <li class="list-group-item p-0 border-0">Catégorie : {{ event.category | capitalize }}</li>
                            <li class="list-group-item p-0 border-0">Type : {{ event.type | capitalize }}</li>
                            <li class="list-group-item p-0 border-0">Mixité : {{ event.gendermix | capitalize }}</li>
                        </ul>
                        <div class="heading-divider-extent"></div>
                        <ul class="list-group list-group-flush text-center">
                            <li class="list-group-item p-0 border-0">Date limite d'inscription
                                : {{ event.date_register | capitalize }}</li>
                        </ul>
                    </div>
                    <div class="text-center">
                        <a class="btn btn_item mb-3" href="Event/show/{{ event.id }}" role="button">En savoir plus</a>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>
{% endblock %}
